{
  "_id": "currenttime-employeetime",
  "type": "pipe",
  "source": {
    "type": "conditional",
    "alternatives": {
      "prod": {
        "type": "sql",
        "system": "currenttime",
        "table": "employeetime",
        "updated_column": "updatedate"
      },
      "test": {
        "type": "embedded",
        "entities": [{
          "_id": "3193",
          "changesalarycode": false,
          "costrate": "~f0E-10",
          "createby": "Api",
          "createdate": "~t2020-07-28T12:03:54.537Z",
          "employeeid": 3453,
          "employeetimeid": 3193,
          "flexitime": true,
          "flexitimebalanceupdated": "~t2020-08-10T00:00:00Z",
          "overtime": false,
          "percentwork": "~f100.0000000000",
          "rate": "~f9.0000000000",
          "showplannedhours": false,
          "timesheet": true,
          "updateby": "Api",
          "updatedate": "~t2020-08-11T02:19:39.397Z",
          "vacation": true,
          "vacationbalanceupdated": "~t2020-08-10T00:00:00Z"
        }, {
          "_id": "3192",
          "changesalarycode": false,
          "costrate": "~f0E-10",
          "createby": "Api",
          "createdate": "~t2020-07-28T12:03:54.537Z",
          "employeeid": 3454,
          "employeetimeid": 3192,
          "flexitime": true,
          "flexitimebalanceupdated": "~t2020-08-10T00:00:00Z",
          "overtime": false,
          "percentwork": "~f100.0000000000",
          "rate": "~f9.0000000000",
          "showplannedhours": false,
          "timesheet": true,
          "updateby": "Api",
          "updatedate": "~t2020-08-11T02:19:39.397Z",
          "vacation": true,
          "vacationbalanceupdated": "~t2020-08-10T00:00:00Z"
        }, {
          "_id": "3191",
          "changesalarycode": false,
          "costrate": "~f0E-10",
          "createby": "Api",
          "createdate": "~t2020-07-28T12:03:54.537Z",
          "employeeid": 3455,
          "employeetimeid": 3191,
          "flexitime": true,
          "flexitimebalanceupdated": "~t2020-08-10T00:00:00Z",
          "overtime": false,
          "percentwork": "~f100.0000000000",
          "rate": "~f9.0000000000",
          "showplannedhours": false,
          "timesheet": true,
          "updateby": "Api",
          "updatedate": "~t2020-08-11T02:19:39.397Z",
          "vacation": true,
          "vacationbalanceupdated": "~t2020-08-10T00:00:00Z"
        }, {
          "_id": "3190",
          "changesalarycode": false,
          "costrate": "~f0E-10",
          "createby": "Api",
          "createdate": "~t2020-07-28T12:03:54.537Z",
          "employeeid": 1625,
          "employeetimeid": 3190,
          "flexitime": true,
          "flexitimebalanceupdated": "~t2020-08-10T00:00:00Z",
          "overtime": false,
          "percentwork": "~f100.0000000000",
          "rate": "~f9.0000000000",
          "showplannedhours": false,
          "timesheet": true,
          "updateby": "Api",
          "updatedate": "~t2020-08-11T02:19:39.397Z",
          "vacation": true,
          "vacationbalanceupdated": "~t2020-08-10T00:00:00Z"
        }, {
          "_id": "3189",
          "changesalarycode": false,
          "costrate": "~f0E-10",
          "createby": "Api",
          "createdate": "~t2020-07-28T12:03:54.537Z",
          "employeeid": 3452,
          "employeetimeid": 3189,
          "flexitime": false,
          "flexitimebalanceupdated": "~t2020-08-10T00:00:00Z",
          "overtime": false,
          "percentwork": "~f100.0000000000",
          "rate": "~f9.0000000000",
          "showplannedhours": false,
          "timesheet": true,
          "updateby": "Api",
          "updatedate": "~t2020-08-11T02:19:39.397Z",
          "vacation": true,
          "vacationbalanceupdated": "~t2020-08-10T00:00:00Z"
        }, {
          "_id": "3188",
          "changesalarycode": false,
          "costrate": "~f0E-10",
          "createby": "Api",
          "createdate": "~t2020-07-28T12:03:54.537Z",
          "employeeid": 3456,
          "employeetimeid": 3188,
          "flexitime": true,
          "flexitimebalanceupdated": "~t2020-08-10T00:00:00Z",
          "overtime": false,
          "percentwork": "~f100.0000000000",
          "rate": "~f9.0000000000",
          "showplannedhours": false,
          "timesheet": true,
          "updateby": "Api",
          "updatedate": "~t2020-08-11T02:19:39.397Z",
          "vacation": true,
          "vacationbalanceupdated": "~t2020-08-10T00:00:00Z"
        }, {
          "_id": "3187",
          "changesalarycode": false,
          "costrate": "~f0E-10",
          "createby": "Api",
          "createdate": "~t2020-07-28T12:03:54.537Z",
          "employeeid": 3457,
          "employeetimeid": 3187,
          "flexitime": false,
          "flexitimebalanceupdated": "~t2020-08-10T00:00:00Z",
          "overtime": false,
          "percentwork": "~f100.0000000000",
          "rate": "~f9.0000000000",
          "showplannedhours": false,
          "timesheet": true,
          "updateby": "Api",
          "updatedate": "~t2020-08-11T02:19:39.397Z",
          "vacation": true,
          "vacationbalanceupdated": "~t2020-08-10T00:00:00Z"
        }, {
          "_id": "3186",
          "changesalarycode": false,
          "costrate": "~f0E-10",
          "createby": "Api",
          "createdate": "~t2020-07-28T12:03:54.537Z",
          "employeeid": 3458,
          "employeetimeid": 3186,
          "flexitime": true,
          "flexitimebalanceupdated": "~t2020-08-10T00:00:00Z",
          "overtime": false,
          "percentwork": "~f100.0000000000",
          "rate": "~f9.0000000000",
          "showplannedhours": false,
          "timesheet": true,
          "updateby": "Api",
          "updatedate": "~t2020-08-11T02:19:39.397Z",
          "vacation": true,
          "vacationbalanceupdated": "~t2020-08-10T00:00:00Z"
        }, {
          "_id": "3185",
          "changesalarycode": false,
          "costrate": "~f0E-10",
          "createby": "Api",
          "createdate": "~t2020-07-28T12:03:54.537Z",
          "employeeid": 3402,
          "employeetimeid": 3185,
          "flexitime": true,
          "flexitimebalanceupdated": "~t2020-08-10T00:00:00Z",
          "overtime": false,
          "percentwork": "~f100.0000000000",
          "rate": "~f9.0000000000",
          "showplannedhours": false,
          "timesheet": true,
          "updateby": "Api",
          "updatedate": "~t2020-08-11T02:19:39.397Z",
          "vacation": true,
          "vacationbalanceupdated": "~t2020-08-10T00:00:00Z"
        }, {
          "_id": "3315",
          "changesalarycode": false,
          "costrate": "~f0E-10",
          "createby": "Api",
          "createdate": "~t2020-07-28T12:03:54.537Z",
          "employeeid": 3656,
          "employeetimeid": 3315,
          "flexitime": true,
          "flexitimebalanceupdated": "~t2020-08-10T00:00:00Z",
          "overtime": false,
          "percentwork": "~f100.0000000000",
          "rate": "~f9.0000000000",
          "showplannedhours": false,
          "timesheet": true,
          "updateby": "Api",
          "updatedate": "~t2020-08-11T02:19:39.397Z",
          "vacation": true,
          "vacationbalanceupdated": "~t2020-08-10T00:00:00Z"
        }]
      }
    },
    "condition": "$ENV(node-env)"
  },
  "transform": {
    "type": "dtl",
    "rules": {
      "default": [
        ["copy", "*"],
        ["make-ni", "currenttime-employee", "employeeid"],
        ["add", "rdf:type",
          ["ni", "bouvet:currenttime-employeetime"]
        ],
        ["add", "pursuant",
          ["ni", "sesam:bouvet-employee"]
        ]
      ]
    }
  },
  "pump": {
    "cron_expression": "$ENV(ct_cron_fast)",
    "rescan_cron_expression": "$ENV(ct_rescan_cron)"
  }
}
