{
  "_id": "visma-olavstoppen-vwdocument",
  "type": "pipe",
  "source": {
    "type": "conditional",
    "alternatives": {
      "prod": {
        "type": "sql",
        "system": "visma-olavstoppen",
        "schema": "OlavstoppenAS",
        "table": "VWDocument",
        "updated_column": "LastUpdate"
      },
      "test": {
        "type": "embedded",
        "entities": [{
          "_id": "80083",
          "AccountingRuleId": 7,
          "AccountingStatus": 0,
          "Amount": "~f22438.750000",
          "AutoinvoiceStatus": 0,
          "BankAccount": "97501103288",
          "BatchNo": 0,
          "Created": "~t2019-04-29T00:00:00Z",
          "CreatedBy": "BAT.MAN",
          "CurrencyRate": "~f0.000000",
          "CurrencyRateUnit": 1,
          "DocumentCategory": 0,
          "DocumentId": 80083,
          "DocumentNoteCategory": 0,
          "DocumentType": 3,
          "DueDate": "~t2019-05-27T00:00:00Z",
          "InvoiceDate": "~t2019-04-27T00:00:00Z",
          "InvoiceNo": "AA74772996",
          "InvoiceReference": "Egon Olsen",
          "LastUpdate": "~t2019-04-29T11:54:32Z",
          "LastUpdatedBy": "BAT.MAN",
          "OrderNumber": "",
          "OrganizationNumber": "897858002",
          "OriginInfo": "Epler & Pærer",
          "RoundingAmount": "~f0.000000",
          "RowVersionNo": 8,
          "SourceSystemId": "",
          "Status": 0,
          "SupplierId": 52100,
          "VatAmount": "~f0.000000",
          "VoucherNo": 0
        }, {
          "_id": "80089",
          "AccountingRuleId": 7,
          "AccountingStatus": 0,
          "Amount": "~f3041.160000",
          "AutoinvoiceStatus": 0,
          "BankAccount": "",
          "BatchNo": 0,
          "Created": "~t2019-04-29T00:00:00Z",
          "CreatedBy": "AQUA.MAN",
          "CurrencyRate": "~f0.000000",
          "CurrencyRateUnit": 1,
          "DocumentCategory": 0,
          "DocumentId": 80089,
          "DocumentNoteCategory": 0,
          "DocumentType": 3,
          "DueDate": "~t2019-04-26T00:00:00Z",
          "InvoiceDate": "~t2019-04-26T00:00:00Z",
          "InvoiceNo": "2019",
          "LastUpdate": "~t2019-04-29T11:53:38Z",
          "LastUpdatedBy": "AQUA.MAN",
          "OrderNumber": "",
          "OrganizationNumber": "981620550",
          "OriginInfo": "Selskapet",
          "RoundingAmount": "~f0.000000",
          "RowVersionNo": 7,
          "SourceSystemId": "",
          "Status": 0,
          "SupplierId": 50002,
          "VatAmount": "~f0.000000",
          "VoucherNo": 0
        }, {
          "_id": "79872",
          "AccountingRuleId": 17,
          "AccountingStatus": 0,
          "Amount": "~f18054.000000",
          "AutoinvoiceStatus": 0,
          "BankAccount": "64040503593",
          "BatchNo": 0,
          "CID": "136311080131",
          "Created": "~t2019-04-16T00:00:00Z",
          "CreatedBy": "admin",
          "CurrencyRate": "~f0.000000",
          "CurrencyRateUnit": 1,
          "DocumentCategory": 5,
          "DocumentId": 79872,
          "DocumentNoteCategory": 0,
          "DocumentType": 3,
          "DueDate": "~t2019-04-26T00:00:00Z",
          "InvoiceDate": "~t2019-04-16T00:00:00Z",
          "InvoiceNo": "108013",
          "InvoiceReference": "Anders And",
          "LastUpdate": "~t2019-04-29T11:22:21Z",
          "LastUpdatedBy": "SPIDER.MAN",
          "OrganizationNumber": "951263648",
          "OriginInfo": "Frap As",
          "RoundingAmount": "~f0.000000",
          "RowVersionNo": 11,
          "SourceSystemId": "MAVENTA_38001119-2f2c-4f0e-a0aa-91dbe3f5ada9",
          "Status": 30,
          "SupplierId": 53268,
          "VatAmount": "~f0.000000",
          "VoucherNo": 0,
          "rdf:type": "~:bouvet:visma-vwdocument"
        }, {
          "_id": "65707",
          "AccountingRuleId": 7,
          "AccountingStatus": 30,
          "Amount": "~f911.000000",
          "BankAccount": "",
          "BatchNo": 61348,
          "Created": "~t2018-03-09T00:00:00Z",
          "CreatedBy": "TORKEL.SNORKEL",
          "CurrencyRate": "~f0.000000",
          "CurrencyRateUnit": 1,
          "Deadline": "~t2018-03-20T00:00:00Z",
          "DocumentCategory": 4,
          "DocumentId": 65707,
          "DocumentNoteCategory": 0,
          "DocumentType": 3,
          "DueDate": "~t2018-03-07T00:00:00Z",
          "InvoiceDate": "~t2018-03-07T00:00:00Z",
          "InvoiceNo": "NOSI252867784",
          "LastUpdate": "~t2018-03-20T00:00:00Z",
          "LastUpdatedBy": "TORKEL.SNORKEL",
          "OrderNumber": "",
          "OrganizationNumber": "981620550",
          "OriginDescription": "",
          "OriginInfo": "Company",
          "RoundingAmount": "~f0.000000",
          "RowVersionNo": 16,
          "SourceSystemId": "",
          "Status": 30,
          "SupplierId": 50002,
          "VatAmount": "~f0.000000",
          "VoucherNo": 407739,
          "rdf:type": "~:bouvet:visma-vwdocument"
        }, {
          "_id": "65701",
          "AccountingRuleId": 7,
          "AccountingStatus": 30,
          "Amount": "~f1576.380000",
          "BankAccount": "",
          "BatchNo": 61347,
          "Created": "~t2018-03-09T00:00:00Z",
          "CreatedBy": "THE.CREATOR",
          "CurrencyRate": "~f0.000000",
          "CurrencyRateUnit": 1,
          "Deadline": "~t2018-03-12T00:00:00Z",
          "DocumentCategory": 4,
          "DocumentId": 65701,
          "DocumentNoteCategory": 0,
          "DocumentType": 3,
          "DueDate": "~t2018-03-07T00:00:00Z",
          "InvoiceDate": "~t2018-03-07T00:00:00Z",
          "InvoiceNo": "NOSI252866681",
          "LastUpdate": "~t2018-03-20T00:00:00Z",
          "LastUpdatedBy": "UPDATE.ER",
          "OrderNumber": "",
          "OrganizationNumber": "981620550",
          "OriginDescription": "",
          "OriginInfo": "Other business",
          "RoundingAmount": "~f0.000000",
          "RowVersionNo": 16,
          "SourceSystemId": "",
          "Status": 30,
          "SupplierId": 50002,
          "VatAmount": "~f0.000000",
          "VoucherNo": 407734,
          "rdf:type": "~:bouvet:visma-vwdocument"
        }, {
          "_id": "65790",
          "AccountingRuleId": 17,
          "AccountingStatus": 30,
          "Amount": "~f536.250000",
          "BankAccount": "30003762676",
          "BatchNo": 61278,
          "CID": "0025940",
          "Created": "~t2018-03-13T00:00:00Z",
          "CreatedBy": "",
          "CurrencyRate": "~f0.000000",
          "CurrencyRateUnit": 1,
          "Deadline": "~t2018-03-15T00:00:00Z",
          "DocumentCategory": 4,
          "DocumentId": 65790,
          "DocumentNoteCategory": 0,
          "DocumentType": 3,
          "DueDate": "~t2018-03-30T00:00:00Z",
          "InvoiceDate": "~t2018-02-28T00:00:00Z",
          "InvoiceNo": "12606",
          "InvoiceReference": "NA",
          "LastUpdate": "~t2018-03-19T00:00:00Z",
          "LastUpdatedBy": "MALCON.I.N.MIDDLE",
          "OrderNumber": "",
          "OrganizationNumber": "919764031",
          "OriginDescription": "",
          "OriginInfo": "Bedrift AS",
          "RoundingAmount": "~f0.000000",
          "RowVersionNo": 15,
          "SourceSystemId": "MNTA_a75487b3-6427-4bdd-a220-d216fb9c9464",
          "Status": 30,
          "SupplierId": 55085,
          "VatAmount": "~f0.000000",
          "VoucherNo": 407619,
          "rdf:type": "~:bouvet:visma-vwdocument"
        }, {
          "_id": "44003",
          "AccountingRuleId": 7,
          "AccountingStatus": 30,
          "Amount": "~f596.250000",
          "BankAccount": "50100731786",
          "BatchNo": 46709,
          "CID": "910258273",
          "Created": "~t2015-11-17T00:00:00Z",
          "CreatedBy": "CREA.TOR",
          "CurrencyRate": "~f0.000000",
          "CurrencyRateUnit": 1,
          "DocumentCategory": 4,
          "DocumentId": 44003,
          "DocumentNoteCategory": 0,
          "DocumentType": 3,
          "DueDate": "~t2015-12-27T00:00:00Z",
          "InvoiceDate": "~t2015-11-17T00:00:00Z",
          "InvoiceNo": "91025827",
          "LastUpdate": "~t2015-11-23T00:00:00Z",
          "LastUpdatedBy": "LAST.UP",
          "OrderNumber": "",
          "OrganizationNumber": "983445349",
          "OriginDescription": "",
          "OriginInfo": "Busybusy Busyness as",
          "RoundingAmount": "~f0.000000",
          "RowVersionNo": 18,
          "SourceSystemId": "",
          "Status": 30,
          "SupplierId": 50273,
          "VatAmount": "~f0.000000",
          "VoucherNo": 387624,
          "rdf:type": "~:bouvet:visma-vwdocument"
        }, {
          "_id": "43954",
          "AccountingRuleId": 7,
          "AccountingStatus": 30,
          "Amount": "~f1998.000000",
          "BankAccount": "15032348634",
          "BatchNo": 46706,
          "CID": "000000001263185",
          "Created": "~t2015-11-16T00:00:00Z",
          "CreatedBy": "TA.Å.LAGA",
          "CurrencyRate": "~f0.000000",
          "CurrencyRateUnit": 1,
          "DocumentCategory": 2,
          "DocumentId": 43954,
          "DocumentNoteCategory": 0,
          "DocumentType": 3,
          "DueDate": "~t2015-12-12T00:00:00Z",
          "InvoiceDate": "~t2015-11-12T00:00:00Z",
          "InvoiceNo": "126318",
          "LastUpdate": "~t2015-11-23T00:00:00Z",
          "LastUpdatedBy": "PREV.GUY",
          "OrderNumber": "",
          "OrganizationNumber": "994932772",
          "OriginDescription": "",
          "OriginInfo": "Gjenbruksbutikk",
          "RoundingAmount": "~f0.000000",
          "RowVersionNo": 16,
          "SourceSystemId": "",
          "Status": 30,
          "SupplierId": 53370,
          "VatAmount": "~f0.000000",
          "VoucherNo": 387614,
          "rdf:type": "~:bouvet:visma-vwdocument"
        }, {
          "_id": "21965",
          "AccountingRuleId": 14,
          "AccountingStatus": 30,
          "Amount": "~f67499.980000",
          "BankAccount": "GB17BARC20740962440133",
          "BatchNo": 31631,
          "Created": "~t2013-06-04T00:00:00Z",
          "CreatedBy": "GREEN.LANTERN",
          "CurrencyAmount": "~f7568.280000",
          "CurrencyNo": 826,
          "CurrencyRate": "~f8.918800",
          "CurrencyRateUnit": 1,
          "DocumentCategory": 4,
          "DocumentId": 21965,
          "DocumentNoteCategory": 0,
          "DocumentType": 3,
          "DueDate": "~t2013-07-02T00:00:00Z",
          "InvoiceDate": "~t2013-06-03T00:00:00Z",
          "InvoiceNo": "NOR/1143.10",
          "LastUpdate": "~t2013-06-13T00:00:00Z",
          "LastUpdatedBy": "FLASH.McGORDON",
          "OrderNumber": "",
          "OrganizationNumber": "",
          "OriginInfo": "Limited Ltd.",
          "RoundingAmount": "~f0.000000",
          "RowVersionNo": 20,
          "SourceSystemId": "",
          "Status": 30,
          "SupplierId": 53011,
          "VatAmount": "~f0.000000",
          "VoucherNo": 367481,
          "rdf:type": "~:bouvet:visma-vwdocument"
        }, {
          "_id": "21962",
          "AccountingRuleId": 14,
          "AccountingStatus": 30,
          "Amount": "~f158325.000000",
          "BankAccount": "BE73068892325760",
          "BatchNo": 31609,
          "Created": "~t2013-06-04T00:00:00Z",
          "CreatedBy": "WORKER.BEE",
          "CurrencyAmount": "~f158325.000000",
          "CurrencyNo": 578,
          "CurrencyRate": "~f1.000000",
          "CurrencyRateUnit": 1,
          "DocumentCategory": 4,
          "DocumentId": 21962,
          "DocumentNoteCategory": 0,
          "DocumentType": 3,
          "DueDate": "~t2013-07-02T00:00:00Z",
          "InvoiceDate": "~t2013-05-31T00:00:00Z",
          "InvoiceNo": "13/005",
          "LastUpdate": "~t2013-06-13T00:00:00Z",
          "LastUpdatedBy": "QUEEN.BEE",
          "OrderNumber": "",
          "OrganizationNumber": "",
          "OriginInfo": "Be-best by Malania",
          "RoundingAmount": "~f0.000000",
          "RowVersionNo": 20,
          "SourceSystemId": "",
          "Status": 30,
          "SupplierId": 52550,
          "VatAmount": "~f0.000000",
          "VoucherNo": 367426,
          "rdf:type": "~:bouvet:visma-vwdocument"
        }]
      }
    },
    "condition": "$ENV(node-env)"
  },
  "transform": {
    "type": "dtl",
    "rules": {
      "default": [
        ["copy", "*"],
        ["add", "rdf:type",
          ["ni", "bouvet:visma-olavstoppen-vwdocument"]
        ]
      ]
    }
  },
  "pump": {
    "cron_expression": "$ENV(visma_cron_fast)",
    "rescan_cron_expression": "$ENV(visma_rescan_cron)"
  }
}
