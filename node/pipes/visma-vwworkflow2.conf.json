{
  "_id": "visma-vwworkflow2",
  "type": "pipe",
  "source": {
    "type": "conditional",
    "alternatives": {
      "prod": {
        "type": "sql",
        "system": "visma",
        "schema": "BouvetNorgeAS",
        "table": "VWWorkflow2",
        "updated_column": "LastUpdate"
      },
      "test": {
        "type": "embedded",
        "entities": [{
          "_id": "35986",
          "Created": "~t2019-04-29T08:54:56Z",
          "CreatedBy": "vismaadmin",
          "DocumentId": 80053,
          "InitiatorId": 9999,
          "LastUpdate": "~t2019-04-29T10:54:56Z",
          "LastUpdatedBy": "vismaadmin",
          "RejectedAncestorId": 0,
          "RowVersionNo": 2,
          "ShouldAddSuperiorOnAmmount": 0,
          "WorkflowId": 35986,
          "WorkflowLevel": 0,
          "WorkflowStatus": 22,
          "rdf:type": "~:bouvet:visma-vwworkflow2"
        }, {
          "_id": "35985",
          "Created": "~t2019-04-29T08:51:17Z",
          "CreatedBy": "WORKER.BEE",
          "DocumentId": 80082,
          "InitiatorId": 746,
          "LastUpdate": "~t2019-04-29T10:51:17Z",
          "LastUpdatedBy": "WORKER.BEE",
          "RejectedAncestorId": 0,
          "RowVersionNo": 4,
          "ShouldAddSuperiorOnAmmount": 0,
          "WorkflowId": 35985,
          "WorkflowLevel": 0,
          "WorkflowStatus": 120,
          "rdf:type": "~:bouvet:visma-vwworkflow2"
        }, {
          "_id": "35984",
          "Created": "~t2019-04-29T08:50:27Z",
          "CreatedBy": "ANOTHER.BEE",
          "DocumentId": 80081,
          "InitiatorId": 746,
          "LastUpdate": "~t2019-04-29T10:50:28Z",
          "LastUpdatedBy": "WORKER.BEE",
          "RejectedAncestorId": 0,
          "RowVersionNo": 4,
          "ShouldAddSuperiorOnAmmount": 0,
          "WorkflowId": 35984,
          "WorkflowLevel": 0,
          "WorkflowStatus": 120,
          "rdf:type": "~:bouvet:visma-vwworkflow2"
        }, {
          "_id": "33558",
          "Created": "~t2019-03-15T15:04:21Z",
          "CreatedBy": "SOMEONE.ELSE",
          "DocumentId": 78909,
          "InitiatorId": 746,
          "LastUpdate": "~t2019-03-18T15:38:54Z",
          "LastUpdatedBy": "vismaadmin",
          "RejectedAncestorId": 0,
          "RowVersionNo": 5,
          "ShouldAddSuperiorOnAmmount": 0,
          "WorkflowId": 33558,
          "WorkflowLevel": 0,
          "WorkflowStatus": 90,
          "rdf:type": "~:bouvet:visma-vwworkflow2"
        }, {
          "_id": "24556",
          "Created": "~t2018-10-12T08:02:05Z",
          "CreatedBy": "DIFFERENT.CREATOR",
          "DocumentId": 73234,
          "InitiatorId": 746,
          "LastUpdate": "~t2018-10-24T13:34:09Z",
          "LastUpdatedBy": "vismaadmin",
          "RejectedAncestorId": 0,
          "RowVersionNo": 5,
          "ShouldAddSuperiorOnAmmount": 0,
          "WorkflowId": 24556,
          "WorkflowLevel": 0,
          "WorkflowStatus": 90,
          "rdf:type": "~:bouvet:visma-vwworkflow2"
        }, {
          "_id": "20000",
          "Created": "~t2018-08-10T12:22:08Z",
          "CreatedBy": "CATTY.PATTY",
          "DocumentId": 69510,
          "InitiatorId": 746,
          "LastUpdate": "~t2018-08-11T11:40:42Z",
          "LastUpdatedBy": "vismaadmin",
          "RejectedAncestorId": 0,
          "RowVersionNo": 5,
          "ShouldAddSuperiorOnAmmount": 0,
          "WorkflowId": 20000,
          "WorkflowLevel": 0,
          "WorkflowStatus": 90,
          "rdf:type": "~:bouvet:visma-vwworkflow2"
        }, {
          "_id": "31918",
          "Created": "~t2019-02-14T09:34:18Z",
          "CreatedBy": "DONALD.DUCK",
          "DocumentId": 78001,
          "InitiatorId": 746,
          "LastUpdate": "~t2019-02-18T17:39:58Z",
          "LastUpdatedBy": "vismaadmin",
          "RejectedAncestorId": 0,
          "RowVersionNo": 5,
          "ShouldAddSuperiorOnAmmount": 0,
          "WorkflowId": 31918,
          "WorkflowLevel": 0,
          "WorkflowStatus": 90,
          "rdf:type": "~:bouvet:visma-vwworkflow2"
        }, {
          "_id": "13845",
          "Created": "~t2018-04-11T15:58:51Z",
          "CreatedBy": "UNCLE.SCROOGE",
          "DocumentId": 66470,
          "InitiatorId": 746,
          "LastUpdate": "~t2018-05-04T13:11:41Z",
          "LastUpdatedBy": "",
          "RejectedAncestorId": 0,
          "RowVersionNo": 17,
          "ShouldAddSuperiorOnAmmount": 0,
          "WorkflowId": 13845,
          "WorkflowLevel": 0,
          "WorkflowStatus": 90,
          "rdf:type": "~:bouvet:visma-vwworkflow2"
        }, {
          "_id": "15000",
          "Created": "~t2018-05-04T09:23:29Z",
          "CreatedBy": "",
          "DocumentId": 66666,
          "InitiatorId": 746,
          "LastUpdate": "~t2018-05-04T09:23:30Z",
          "LastUpdatedBy": "",
          "RejectedAncestorId": 0,
          "RowVersionNo": 13,
          "ShouldAddSuperiorOnAmmount": 0,
          "WorkflowId": 15000,
          "WorkflowLevel": 0,
          "WorkflowStatus": 30,
          "rdf:type": "~:bouvet:visma-vwworkflow2"
        }, {
          "_id": "13653",
          "Created": "~t2018-04-10T10:52:07Z",
          "CreatedBy": "MICKEY.MOUSE",
          "DocumentId": 66397,
          "InitiatorId": 746,
          "LastUpdate": "~t2018-04-10T14:36:03Z",
          "LastUpdatedBy": "",
          "RejectedAncestorId": 0,
          "RowVersionNo": 13,
          "ShouldAddSuperiorOnAmmount": 0,
          "WorkflowId": 13653,
          "WorkflowLevel": 0,
          "WorkflowStatus": 90,
          "rdf:type": "~:bouvet:visma-vwworkflow2"
        }]
      }
    },
    "condition": "$ENV(node-env)"
  },
  "transform": {
    "type": "dtl",
    "rules": {
      "default": [
        ["copy", "*"],
        ["add", "rdf:type",
          ["ni", "bouvet:visma-vwworkflow2"]
        ]
      ]
    }
  },
  "pump": {
    "cron_expression": "$ENV(visma_cron_fast)",
    "rescan_cron_expression": "$ENV(visma_rescan_cron)"
  }
}
